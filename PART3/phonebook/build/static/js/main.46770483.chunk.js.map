{"version":3,"sources":["components/Person.js","components/Content.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Content","persons","allPersons","console","log","length","map","i","Filter","value","onChange","successStyle","color","background","font_size","border_style","border_radius","padding","margin_bottom","errorStyle","Notification","message","includes","style","className","PersonForm","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setAllPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personService","initialPersons","event","target","regex","RegExp","filter","match","preventDefault","personToAdd","updatedPerson","window","confirm","returnedPerson","personItem","setTimeout","catch","error","concat","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.46770483.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Person;","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Content = ({persons, allPersons, deletePerson}) => {\r\n  console.log(persons.length)\r\n  return (\r\n    persons.length === 0 ? (\r\n      <ul>\r\n        {allPersons.map((person, i) =>\r\n          <Person key={i} person={person} deletePerson={deletePerson} />\r\n        )}\r\n      </ul>\r\n    ) : (\r\n      <ul>\r\n        {persons.map((person, i) =>\r\n          <Person key={i} person={person} deletePerson={deletePerson} />\r\n        )}\r\n      </ul>\r\n    )\r\n  );\r\n}\r\n\r\nexport default Content;","import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst successStyle = {\r\n  color: 'green',\r\n  background: 'lightgrey',\r\n  font_size: 20,\r\n  border_style: 'solid',\r\n  border_radius: 5,\r\n  padding: 10,\r\n  margin_bottom: 10\r\n}\r\n\r\nconst errorStyle = {\r\n  color: 'red',\r\n  background: 'lightgrey',\r\n  font_size: 20,\r\n  border_style: 'solid',\r\n  border_radius: 5,\r\n  padding: 10,\r\n  margin_bottom: 10\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    message.includes('ERROR') ? (\r\n      <div style={errorStyle} className=\"error\">\r\n        {message}\r\n      </div>\r\n    ) : (\r\n      <div style={successStyle} className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default PersonForm;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","\n   import React, { useState, useEffect } from 'react'\n   import Content from './components/Content'\n   import Filter from './components/Filter'\n   import Notification from './components/Notification'\n   import PersonForm from './components/PersonForm'\n   import personService from './services/persons'\n   \n   const App = () => {\n     const [ persons, setPersons] = useState([])\n     const [ allPersons, setAllPersons] = useState([])\n     const [ newName, setNewName ] = useState('')\n     const [ newNumber, setNewNumber ] = useState('')\n     const [newFilter, setNewFilter] = useState('')\n     const [message, setMessage] = useState(null)\n   \n     useEffect(() => {\n       personService\n         .getAll()\n         .then(initialPersons => {\n         setAllPersons(initialPersons)\n       })\n     }, [])\n   \n     const addPerson = (event) => {\n       event.preventDefault()\n       const person = allPersons.filter((person) =>\n           person.name === newName\n       )\n   \n       const personToAdd = person[0]\n       const updatedPerson = { ...personToAdd, number: newNumber }\n   \n       if (person.length !== 0) {\n         if (window.confirm(`${personToAdd.name} is already added to the phonebook, replace the old number with a new one ?`)) {\n           personService\n             .update(updatedPerson.id, updatedPerson).then(returnedPerson => {\n               console.log(`${returnedPerson.name} successfully updated`)\n               setAllPersons(allPersons.map(personItem => personItem.id !== personToAdd.id ? personItem : returnedPerson))\n               setNewName('')\n               setNewNumber('')\n               setMessage(\n                 `${updatedPerson.name} was successfully updated`\n               )\n               setTimeout(() => {\n                 setMessage(null)\n               }, 5000)\n             })\n             .catch((error) => {\n               console.log(error)\n               setAllPersons(allPersons.filter(person => person.id !== updatedPerson.id))\n               setNewName('')\n               setNewNumber('')\n               setMessage(\n                 `[ERROR] ${updatedPerson.name} was already deleted from server`\n               )\n               setTimeout(() => {\n                 setMessage(null)\n               }, 5000)\n             })\n         }\n       } else {\n           const personToAdd = {\n               name: newName,\n               number: newNumber\n             }\n             personService\n               .create(personToAdd)\n               .then(returnedPerson => {\n                 setAllPersons(allPersons.concat(returnedPerson))\n                 setNewName('')\n                 setNewNumber('')\n                 setMessage(\n                   `${newName} was successfully added`\n                 )\n                 setTimeout(() => {\n                   setMessage(null)\n                 }, 5000)\n               })\n               .catch(error => {\n                 setMessage(\n                   `[ERROR] ${error.response.data.error}`\n                 )\n                 setTimeout(() => {\n                   setMessage(null)\n                 }, 5000)\n                 console.log(error.response.data)\n               })\n       }\n     }\n   \n     const deletePerson = (id) => {\n       const filteredPerson = allPersons.filter(person => person.id === id)\n       const personName = filteredPerson[0].name\n       const personId = filteredPerson[0].id\n       if (window.confirm(`Delete ${personName} ?`)) {\n         personService\n           .remove(personId)\n         console.log(`${personName} successfully deleted`)\n         setMessage(\n           `${personName} was successfully deleted`\n         )\n         setAllPersons(allPersons.filter(person => person.id !== personId))\n         setTimeout(() => {\n           setMessage(null)\n         }, 5000)\n       }\n     }\n   \n     const handleNameChange = (event) => {\n       setNewName(event.target.value)\n     }\n   \n     const handleNumberChange = (event) => {\n       setNewNumber(event.target.value)\n     }\n   \n     const handleFilterChange = (event) => {\n       setNewFilter(event.target.value)\n       const regex = new RegExp( newFilter, 'i' );\n       const filteredPersons = () => allPersons.filter(person => person.name.match(regex))\n       setPersons(filteredPersons)\n     }\n   \n     return (\n       <div>\n         <h2>Phonebook</h2>\n         <Notification message={message} />\n         <Filter value={newFilter} onChange={handleFilterChange} />\n         <h2>Add new person</h2>\n         <PersonForm onSubmit={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n         <h2>Numbers</h2>\n         <Content persons={persons} allPersons={allPersons} deletePerson={deletePerson} />\n       </div>\n     );\n   }\n   \n   export default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}